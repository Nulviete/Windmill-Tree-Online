import{Q as h,a as Q}from"./QCard.12ea3632.js";import{Q as E,a as L}from"./QItem.a2962a2f.js";import{g as Y,Q as $,a as z}from"./getProject.4aba7eca.js";import{_ as F,r as s,E as a,S as d,I as c,U as y,V as j,H as p,G as o,W as g,X as V,N as q,F as k,J as U,Z as A}from"./index.a1fdec07.js";import{s as D}from"./supabaseClient.23da51a5.js";const G={class:"row justify-center q-gutter-lg"},H={class:"flip-card row justify-center q-gutter-md text-center items-center"},J={class:"",style:{"text-align":"center"}},T=["src"],W={class:"text-white full-width q-py-md",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -100%)",background:"rgba(0, 0, 0, .5)"}},X={key:0,class:"row justify-center",style:{"margin-top":"40px"}},Z={key:0,class:"q-mx-auto q-pt-md",style:{width:"800px"}},K={__name:"ProjectsCard",props:{projects:{type:Array,default:()=>[]}},setup(m){const l=m,n=s(),{data:C,dataLoaded:_,load:u,firstPic:S}=Y(),B=async e=>{await u(e),_&&(n.value=S.value)};console.log(l.projects,"ProjectCard - props");const i=s([]),x=s(),v=s(!1),b=s(!1),N=s(!1);for(let e=0;e<l.projects.length;e++)i.value.includes(l.projects[e].year)||i.value.push(l.projects[e].year);i.value.sort(function(e,r){return r-e});const w=e=>l.projects.filter(r=>r.year===e);console.log(w(2150));const P=e=>i.value.filter(r=>r===e);return console.log(P(2021)),(e,r)=>(a(),d(y,null,[c("div",G,[c("div",H,[(a(!0),d(y,null,j(i.value,t=>(a(),k(Q,{key:t,class:A(["flip-card-inner col-4 bg-primary",{flipped:b.value}]),style:{},onClick:f=>{b.value=!0,x.value=t,i.value=P(x.value)}},{default:o(()=>[p(h,{class:"flip-card-front q-pa-none"},{default:o(()=>[c("div",J,[c("img",{src:"/projectPic/natureProject.jpg",class:"",style:{"border-radius":"5px",width:"100%",height:"450px","background-size":"cover"},height:""},null,8,T),c("h2",W,g(t),1)])]),_:2},1024),p(h,{class:"flip-card-back bg-accent column justify-center"},{default:o(()=>[(a(!0),d(y,null,j(w(t),f=>(a(),k(E,{key:f,clickable:"",class:"",style:{},onClick:I=>v.value=f},{default:o(()=>[p(L,{class:"",style:{height:"60px"},onClick:I=>B(f.name)},{default:o(()=>[U(g(f.name),1)]),_:2},1032,["onClick"])]),_:2},1032,["onClick"]))),128))]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),v.value?(a(),d("div",X,[p(Q,{class:"col-4 bg-accent justify-center",style:{}},{default:o(()=>[p(h,{class:"text-center"},{default:o(()=>[c("h6",null,g(v.value.name),1),c("p",null,g(v.value.description),1)]),_:1})]),_:1})])):V("",!0)]),q(_)?(a(),d("div",Z,[p(z,{modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=t=>n.value=t),swipeable:"",animated:"",arrows:"",thumbnails:"",infinite:"",fullscreen:N.value},{default:o(()=>[(a(!0),d(y,null,j(q(C)[0].photos,t=>(a(),k($,{key:t,name:t,"img-src":t},null,8,["name","img-src"]))),128))]),_:1},8,["modelValue","fullscreen"])])):V("",!0)],64))}};var ae=F(K,[["__scopeId","data-v-824e7090"]]);const se=()=>{const m=s(null),l=s(null),n=s(!1);return{error:l,documents:m,load:async _=>{try{const{data:u}=await D.from("projects").select().eq("category",_);if(!u)throw Error("no data available");m.value=u,n.value=!0}catch(u){l.value=u.message}},dataLoaded:n}};export{ae as P,se as g};
