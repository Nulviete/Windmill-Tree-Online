import{Q as m,a as x}from"./QCard.e2df2022.js";import{Q as j,a as v}from"./QItem.d653b724.js";import{r as u,E as r,S as d,U as h,V as _,F as g,G as o,H as p,I as n,W as y,J as b}from"./index.f544e24b.js";import{s as w}from"./supabaseClient.beba4ec9.js";const k={class:"row justify-center q-gutter-sm q-mx-auto"},P={class:"",style:{"text-align":"center"}},Q=["src"],q={class:"text-white full-width q-py-md",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -100%)",background:"rgba(0, 0, 0, .5)"}},B={style:{overflow:"auto",height:"180px"},class:""},I={__name:"ProjectsCard",props:{projects:{type:Array,default:()=>[]}},setup(c){const a=c;console.log(a.projects,"ProjectCard - props");const s=u([]);for(let t=0;t<a.projects.length;t++)s.value.includes(a.projects[t].year)||s.value.push(a.projects[t].year);s.value.sort(function(t,e){return e-t});function f(t){return a.projects.filter(e=>e.year===t)}return(t,e)=>(r(),d("div",k,[(r(!0),d(h,null,_(s.value,i=>(r(),g(x,{key:i,class:"col-4 bg-primary",style:{width:"350px",height:"500px","border-radius":"5px"}},{default:o(()=>[p(m,{class:"q-pa-none"},{default:o(()=>[n("div",P,[n("img",{src:"/projectPic/natureProject.jpg",class:"full-width",style:{"border-radius":"5px 5px 0px 0px"},height:""},null,8,Q),n("h2",q,y(i),1)])]),_:2},1024),n("div",B,[p(m,null,{default:o(()=>[(r(!0),d(h,null,_(f(i),l=>(r(),g(j,{key:l,clickable:"",class:"bg-accent",to:{path:"/Projects/"+l.category+"/"+l.name}},{default:o(()=>[p(v,null,{default:o(()=>[b(y(l.name),1)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:2},1024)])]),_:2},1024))),128))]))}},N=()=>{const c=u(null),a=u(null),s=u(!1);return{error:a,documents:c,load:async t=>{try{const{data:e}=await w.from("projects").select().eq("category",t);if(!e)throw Error("no data available");c.value=e,s.value=!0}catch(e){a.value=e.message}},dataLoaded:s}};export{I as _,N as g};
